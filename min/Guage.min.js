var Guage=function(t,i){var i=i||{},e={color:"lightblue",bgColor:"#eee",lineWidth:20,text:{font:t.height/5+"px Arial",align:"center",baseline:"middle",identifier:"%",x:t.width/2,y:t.height/2},easing:"easeOutSine",duration:5e3,from:0,to:1,radius:function(){var e=i.lineWidth||20;return t.width<t.height?t.width/2-e/2:t.height/2-e/2}(),arcStart:3*Math.PI/4,arcLength:6*Math.PI/4,counterClockwise:!1,x:t.width/2,y:t.height/2,running:!0};for(var h in e)"undefined"==typeof i[h]&&(i[h]=e[h]),this[h]=i[h];this.canvas=t,this.ctx=t.getContext("2d"),this.startTime=Date.now(),this.render()};Guage.prototype.render=function(){var t=this.ctx,i=Date.now(),e=i-this.startTime;this.currentValue=this.ease[this.easing](e,this.from,this.to-this.from,this.duration),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.strokeStyle=this.bgColor,t.lineWidth=this.lineWidth,t.beginPath(),t.arc(this.x,this.y,this.radius,this.arcStart,this.arcStart+this.arcLength,this.counterClockwise),t.stroke(),t.strokeStyle=this.color,t.lineWidth=this.lineWidth,t.beginPath(),t.arc(this.x,this.y,this.radius,this.arcStart,this.arcStart+this.arcLength*this.currentValue,this.counterClockwise),t.stroke(),t.fillStyle=this.color,t.font=this.text.font,t.textAlign=this.text.align,t.textBaseline=this.text.baseline;var h=Math.round(100*this.currentValue)+this.text.identifier;t.fillText(h,this.text.x,this.text.y),e<this.duration&&1==this.running&&window.requestAnimationFrame(this.render.bind(this))},Guage.prototype.setValue=function(t){this.from=this.currentValue,this.to=t,this.startTime=Date.now(),this.render()},Guage.prototype.freeze=function(){this.running=!1},Guage.prototype.thaw=function(){this.running=!0},Guage.prototype.stop=Guage.prototype.freeze,Guage.prototype.start=Guage.prototype.thaw;